<div class="max-w-[50vw] mx-auto bg-white p-8 rounded-lg shadow-md">

    <h1 class="text-3xl font-bold text-gray-800 mb-4">
        {{ title }}
    </h1>

    <form [formGroup]="subjectForm" class="w-full max-w-[800px] mx-auto">
        <div class="mb-4 flex flex-col">
            <label for="name" class="block text-left font-inter font-normal text-[20px] leading-[29.05px] mb-2 opacity-50">Nombre:</label>
            <input 
                id="name" 
                formControlName="name" 
                placeholder="Ingrese el nombre" 
                [ngClass]="{
                    'shadow-gray-400': !isEditable,
                    'shadow-custom-green': isEditable,
                    'shadow-custom-pink': subjectForm.get('name')?.invalid && subjectForm.get('name')?.touched
                }"
                class="border border-gray-300 w-full h-[40px] p-4 text-[18px] leading-[29.05px] placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-600"
            />
        </div>
    
        <div class="mb-4 flex flex-col">
            <label for="topics" class="block text-left font-inter font-normal text-[20px] leading-[29.05px] mb-2 opacity-50">Temas:</label>
            <input 
                id="topics" 
                formControlName="topics" 
                placeholder="Ingrese los temas" 
                [ngClass]="{
                    'shadow-gray-400': !isEditable,
                    'shadow-custom-green': isEditable,
                    'shadow-custom-pink': subjectForm.get('topics')?.invalid && subjectForm.get('topics')?.touched
                }"
                class="border border-gray-300 w-full h-[40px] p-4 text-[18px] leading-[29.05px] placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-600"
            />
        </div>
    
        <div class="mb-4 flex flex-col">
            <label for="description" class="block text-left font-inter font-normal text-[20px] leading-[29.05px] mb-2 opacity-50">Descripción:</label>
            <textarea 
                id="description" 
                formControlName="description" 
                placeholder="Ingrese la descripción" 
                [ngClass]="{
                    'shadow-gray-400': !isEditable,
                    'shadow-custom-green': isEditable,
                    'shadow-custom-pink': subjectForm.get('description')?.invalid && subjectForm.get('description')?.touched
                }"
                class="border border-gray-300 w-full h-[100px] p-4 text-[18px] leading-[29.05px] placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-600"
            ></textarea>
        </div>
    
        <div class="mb-4 flex flex-col">
            <label for="schedule" class="block text-left font-inter font-normal text-[20px] leading-[29.05px] mb-2 opacity-50">Horario:</label>
            <input 
                id="schedule" 
                formControlName="schedule" 
                placeholder="Ingrese el horario" 
                [ngClass]="{
                    'shadow-gray-400': !isEditable,
                    'shadow-custom-green': isEditable,
                    'shadow-custom-pink': subjectForm.get('schedule')?.invalid && subjectForm.get('schedule')?.touched
                }"
                class="border border-gray-300 w-full h-[40px] p-4 text-[18px] leading-[29.05px] placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-600"
            />
        </div>
    
        <div class="mb-4 flex flex-col">
            <label for="days" class="block text-left font-inter font-normal text-[20px] leading-[29.05px] mb-2 opacity-50">Días:</label>
            <input 
                id="days" 
                formControlName="days" 
                placeholder="Ingrese los días" 
                [ngClass]="{
                    'shadow-gray-400': !isEditable,
                    'shadow-custom-green': isEditable,
                    'shadow-custom-pink': subjectForm.get('days')?.invalid && subjectForm.get('days')?.touched
                }"
                class="border border-gray-300 w-full h-[40px] p-4 text-[18px] leading-[29.05px] placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-600"
            />
        </div>
    
        <div class="mb-4 flex flex-col">
            <label for="teacher" class="block text-left font-inter font-normal text-[20px] leading-[29.05px] mb-2 opacity-50">Profesor:</label>
            <input 
                id="teacher" 
                formControlName="teacher" 
                placeholder="Ingrese el nombre del profesor" 
                [ngClass]="{
                    'shadow-gray-400': !isEditable,
                    'shadow-custom-green': isEditable,
                    'shadow-custom-pink': subjectForm.get('teacher')?.invalid && subjectForm.get('teacher')?.touched
                }"
                class="border border-gray-300 w-full h-[40px] p-4 text-[18px] leading-[29.05px] placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-600"
            />
        </div>
    
        <div class="mb-4 flex flex-col">
            <label for="evaluations" class="block text-left font-inter font-normal text-[20px] leading-[29.05px] mb-2 opacity-50">Evaluaciones:</label>
            <input 
                id="evaluations" 
                formControlName="evaluations" 
                placeholder="Ingrese las evaluaciones" 
                [ngClass]="{
                    'shadow-gray-400': !isEditable,
                    'shadow-custom-green': isEditable,
                    'shadow-custom-pink': subjectForm.get('evaluations')?.invalid && subjectForm.get('evaluations')?.touched
                }"
                class="border border-gray-300 w-full h-[40px] p-4 text-[18px] leading-[29.05px] placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-600"
            />
        </div>
    </form>
    

    <div class="flex flex-col md:flex-row justify-end space-y-4 md:space-y-0 md:space-x-4 mt-4 w-full max-w-[851px] mx-auto">
<!-- El botón de eliminar solo se va a mostrar si se le pasa un valor VALIDO -->
    <app-delete *ngIf="subject && subject.id" [id]="subject.id" (eliminar)="onSubjectDeleted()"></app-delete>
  
<!-- Botón para activar el modo de edición -->
<button 
    *ngIf="!isEditable" 
    class="bg-custom-green text-custom-black font-normal w-[223px] h-[49px] rounded-[12px] md:w-[223px] md:h-[49px] transition duration-300 ease-in-out transform hover:scale-105"
    (click)="toggleEditMode()">
    Modificar
</button>

<!-- Botón para guardar cambios que se muestra cuando está en modo de edición -->
<button
    *ngIf="isEditable"
    class="bg-custom-green hover:bg-custom-green-dark text-black font-normal w-full h-[49px] rounded-[12px] transition duration-300 ease-in-out transform hover:scale-105"
    (click)="abrirConfirmacion()">
    Guardar Cambios
</button>

<!-- Modal de confirmación de guardar cambios -->
<div *ngIf="showModal" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">
    <div class="bg-white w-[415px] h-[225px] p-6 border border-gray-700 rounded-lg shadow-lg flex flex-col justify-around">
        <h2 class="font-inter text-custom-black text-[24px] font-light leading-[29.05px] text-center w-[274px] h-[58px] mx-auto opacity-100">
            ¿Está seguro de guardar los cambios?
        </h2>

        <div class="flex justify-center space-x-4">
            <button
                class="bg-custom-pink hover:bg-pink-700 text-black font-normal py-2 px-4 rounded-lg w-32"
                (click)="cancelChanges()"
            >
                Cancelar
            </button>
            <button
                class="bg-custom-green hover:bg-custom-green-dark text-black font-normal py-2 px-4 rounded-lg w-32"
                (click)="confirmChanges()"
            >
                Sí, guardar
            </button>
        </div>
    </div>
</div>

</div>

  </div>